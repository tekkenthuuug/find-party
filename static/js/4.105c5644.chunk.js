(this["webpackJsonpfind-party"]=this["webpackJsonpfind-party"]||[]).push([[4,6],{163:function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r(21);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}},164:function(e,t,r){"use strict";r.r(t),r.d(t,"validateBase",(function(){return l}));var n=r(163),a=r(0),s=r.n(a),o=r(28),i=r(13),c=r(46),u=r(45),l=function(e){var t=e.username,r=e.password,n={username:"",password:""};return t?t.length<5?n.username="Length must be at least 5 characters":t.length>24?n.username="Length must be 24 characters or less":delete n.username:n.username="Required field",r?r.length<6?n.password="Length must be at least 6 characters":delete n.password:n.password="Required field",n},m=[{title:"Login information",fields:[{placeholder:"Username",name:"username"},{placeholder:"Password",name:"password"}]},{title:"Location information",fields:[{placeholder:"Country",name:"country"},{placeholder:"City",name:"city"}]},{title:"Personal information",fields:[{placeholder:"First Name",name:"firstName"},{placeholder:"Last Name",name:"lastName"}]}];t.default=s.a.memo((function(e){var t=e.user,r=e.setUser,d=e.location,p=Object(c.a)({initialValues:{firstName:"",lastName:"",username:"",password:"",city:"",country:"",error:""},validate:function(e){return l(e)},onSubmit:function(e,t){var a=t.setSubmitting,s=t.setValues,o=e.username,i=e.country,c=e.city,u=e.password,l=e.firstName,m=e.lastName;fetch("http://localhost:8000/api/register",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:o,password:u,country:i,city:c,firstName:l,lastName:m})}).then((function(e){return e.json()})).then((function(t){t.id?r({id:t.id,username:t.username}):t.error&&(a(!1),s(Object(n.a)({},e,{error:t.error.details})))}))}});return t.id?s.a.createElement(o.a,{to:{pathname:"/users/".concat(t.id),state:{from:d}}}):s.a.createElement(u.a,{formik:p,headTitle:"Join us now!",submitButtonText:"Register",subTitle:s.a.createElement(a.Fragment,null,"Already registered?"," ",s.a.createElement(i.b,{to:"/login"},s.a.createElement("span",null,"Sign in!"))),sections:m})}))},169:function(e,t,r){"use strict";r.r(t);var n=r(163),a=r(0),s=r.n(a),o=r(28),i=r(13),c=r(46),u=r(45),l=(r(91),r(164)),m=[{fields:[{placeholder:"Username",name:"username"},{placeholder:"Password",name:"password"}]}];t.default=s.a.memo((function(e){var t=e.user,r=e.setUser,d=e.location,p=Object(c.a)({initialValues:{username:"",password:"",error:""},validate:function(e){return Object(l.validateBase)(e)},onSubmit:function(e,t){var a=t.setSubmitting,s=t.setValues,o=e.username,i=e.password;fetch("http://localhost:8000/api/signin",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:o,password:i})}).then((function(e){return e.json()})).then((function(t){t.id?(sessionStorage.setItem("id",t.id),sessionStorage.setItem("username",t.username),r({id:t.id,username:t.username})):t.error&&(a(!1),s(Object(n.a)({},e,{error:t.error})))})).catch((function(){a(!1)}))}});return t.id?s.a.createElement(o.a,{to:{pathname:"/users/".concat(t.id),state:{from:d}}}):s.a.createElement(u.a,{formik:p,headTitle:"Join your friends!",submitButtonText:"Login",subTitle:s.a.createElement(a.Fragment,null,"Don't have an account yet?"," ",s.a.createElement(i.b,{to:"/register"},s.a.createElement("span",null,"Register!"))),sections:m})}))}}]);
//# sourceMappingURL=4.105c5644.chunk.js.map