(this["webpackJsonpfind-party"]=this["webpackJsonpfind-party"]||[]).push([[0],{102:function(e,t,n){},103:function(e,t,n){},104:function(e,t,n){e.exports=n.p+"static/media/background-vid.013a0b2e.mp4"},109:function(e,t,n){},111:function(e,t,n){},112:function(e,t,n){},113:function(e,t,n){},114:function(e,t,n){},115:function(e,t,n){},116:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(8),c=n.n(o),i=(n(102),n(57));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(i.b,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},23:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a="https://find-party-api.herokuapp.com"},46:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(54),c=n(85),i=n.n(c),l=n(86),s=n.n(l);n(92);t.a=function(e){var t=e.headTitle,n=e.formik,c=e.sections,l=e.submitButtonText,u=e.subTitle;return r.a.createElement("div",{className:"form-container"},r.a.createElement("div",{className:"form-box"},r.a.createElement("h1",null,t),u?r.a.createElement("p",null,u):null,r.a.createElement("form",{onSubmit:n.handleSubmit,className:"form"},n.values.error?r.a.createElement("div",{className:"form-error"},n.values.error):null,c.map((function(e,t){return r.a.createElement(a.Fragment,{key:t},e.title?r.a.createElement("h2",null,e.title):null,r.a.createElement("div",{className:"input-section"},e.fields.map((function(e){return r.a.createElement(o.a,{key:e.name,initialVal:n.values[e.name],placeholder:e.placeholder,handleChange:n.handleChange,name:e.name,error:n.errors[e.name]||null,twoColumns:e.twoColumns,multiline:e.multiline})}))))})),r.a.createElement("button",{className:"submit-button",type:"submit",disabled:n.isSubmitting},r.a.createElement("span",null,l),n.isSubmitting||n.isValidating?r.a.createElement(i.a,{style:{animation:"spin 1s linear infinite"}}):r.a.createElement(s.a,null)))))}},48:function(e,t,n){"use strict";var a=n(0),r=n.n(a);n(111);t.a=function(e){var t=e.backgroundColor,n=void 0===t?"#1D1D21":t,a=e.spinnerSize,o=void 0===a?"100px":a,c=e.containerHeight,i=void 0===c?"100vh":c,l=e.marginTop,s=void 0===l?"0":l;return r.a.createElement("div",{style:{backgroundColor:n,height:i},className:"loading-screen"},r.a.createElement("div",{className:"spin",style:{width:o,height:o,marginTop:s}}))}},54:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=(n(112),n(120)),c=n(63),i=n(119),l=Object(c.a)({overrides:{MuiTextField:{root:{backgroundColor:"#2ba296",borderRadius:"3px",width:"100%","& *":{color:"rgba(255,255,255, 0.8)",fontFamily:"Roboto Mono"},"& .MuiInputLabel-shrink":{color:"rgb(140, 245, 154)",fontFamily:"Roboto Mono"},"& .MuiFilledInput-underline:after":{borderColor:"rgb(140, 245, 154)"}}}}});t.a=r.a.memo((function(e){var t=e.placeholder,n=e.handleChange,a=e.inputType,c=void 0===a?"text":a,s=e.name,u=e.error,m=e.twoColumns,d=e.multiline,p=e.initialVal;return r.a.createElement("div",{style:m?{gridColumnStart:"1",gridColumnEnd:"3"}:void 0},r.a.createElement("div",{className:"error"},u||null),r.a.createElement(i.a,{theme:l},r.a.createElement(o.a,{value:p,label:t,variant:"filled",type:c,onChange:n,name:s,color:"primary",multiline:Boolean(d),rows:d})))}))},57:function(e,t,n){"use strict";var a=n(14),r=n(0),o=n.n(r),c=n(13),i=n(29),l=(n(103),n(104)),s=function(){return o.a.createElement("div",{className:"homepage"},o.a.createElement("video",{autoPlay:!0,muted:!0,loop:!0,id:"back-vid"},o.a.createElement("source",{src:l,type:"video/mp4"})),o.a.createElement("div",{className:"homepage__container"},o.a.createElement("header",null,"Find party for the event"),o.a.createElement("div",{className:"homepage__buttons"},o.a.createElement(c.b,{to:"/events/create",className:"btn"},o.a.createElement("p",null,"Create event")),o.a.createElement(c.b,{to:"/feed",className:"btn"},o.a.createElement("p",null,"Find event")))))},u=(n(109),n(149)),m=n(153),d=n(117),p=n(155),h=n(161),f=n(80),b=n.n(f),g=n(82),E=n.n(g),v=n(79),y=n.n(v),j=n(154),O=n(81),C=n.n(O),N=Object(u.a)({list:{width:250},paper:{backgroundColor:"rgb(52, 52, 61)",color:"white"}}),k=function(e){var t=e.userID,n=e.drawerOpened,a=e.toggleDrawer,r=N(),i=[{title:"My profile",path:"/users/"+t,icon:o.a.createElement(y.a,{style:{color:"white"}})},{title:"Feed",path:"/feed",icon:o.a.createElement(b.a,{style:{color:"white"}})},{title:"Create event",path:"/events/create",icon:o.a.createElement(C.a,{style:{color:"white"}})},{title:"Settings",path:"/settings",icon:o.a.createElement(E.a,{style:{color:"white"}})}];return o.a.createElement(h.a,{open:n,onClose:a(!1),classes:{paper:r.paper}},o.a.createElement("div",{className:r.list,role:"presentation",onClick:a(!1),onKeyDown:a(!1)},o.a.createElement(m.a,null,i.map((function(e){return o.a.createElement(c.c,{to:e.path,key:e.title,activeStyle:{color:"#b1b1c7"}},o.a.createElement(d.a,{button:!0},o.a.createElement(j.a,null,e.icon),o.a.createElement(p.a,{primary:e.title})))})))))},D=n(162),I=n(156),w=n(157),x=n(158),S=n(58),T=n(89),_=n(159),M=n(83),F=n.n(M),B=n(84),L=n.n(B),z=Object(u.a)((function(e){return Object(D.a)({menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}})})),R=function(e){var t=e.setUser,n=e.toggleDrawer,r=e.userID,l=e.news,s=void 0===l?"":l,u=Object(i.g)(),m=function(){b(null)},d=z(),p=o.a.useState(null),h=Object(a.a)(p,2),f=h[0],b=h[1],g=Boolean(f);return o.a.createElement(I.a,{position:"absolute",style:{backgroundColor:"rgb(52, 52, 61)"},variant:"outlined"},o.a.createElement(w.a,null,o.a.createElement(x.a,{edge:"start",className:d.menuButton,color:"inherit","aria-label":"menu",onClick:n(!0)},o.a.createElement(F.a,null)),o.a.createElement(S.a,{variant:"h6",className:d.title},s),o.a.createElement("div",null,o.a.createElement(x.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){b(e.currentTarget)},color:"inherit"},o.a.createElement(L.a,null)),o.a.createElement(T.a,{id:"menu-appbar",anchorEl:f,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:g,onClose:m},o.a.createElement(_.a,{onClick:m,component:c.b,to:"/users/"+r},"Profile"),o.a.createElement(_.a,{onClick:function(){m(),sessionStorage.removeItem("id"),sessionStorage.removeItem("username"),t({username:"",id:""}),u.push("/login")}},"Sign out")))))},P=o.a.memo((function(e){var t=e.userID,n=e.setUser,r=o.a.useState(!1),i=Object(a.a)(r,2),l=i[0],s=i[1],u=function(e){return function(t){("keydown"!==t.type||"Tab"!==t.key&&"Shift"!==t.key)&&s(e)}};return t?o.a.createElement("div",{style:{flexGrow:1}},o.a.createElement(k,{userID:t,drawerOpened:l,toggleDrawer:u}),o.a.createElement(R,{userID:t,setUser:n,toggleDrawer:u})):o.a.createElement("nav",null,o.a.createElement("div",{className:"nav__account"},[{path:"/register",content:"Register"},{path:"/login",content:"Sign in"}].map((function(e,t){return o.a.createElement(c.b,{to:e.path,key:t},o.a.createElement("div",null,e.content))}))))})),U=n(48),J=n(2),V=function(e){var t=e.userID,n=e.component,a=Object(J.a)(e,["userID","component"]);return o.a.createElement(i.b,Object.assign({},a,{render:function(e){return t?o.a.createElement(n,Object.assign({},e,{userID:t})):o.a.createElement(i.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},q=n(46),A=n(47),G=n(23),W=[{title:"Main information",fields:[{placeholder:"Event title",name:"title"},{placeholder:"Contact",name:"contact"}]},{title:"Additional info",fields:[{placeholder:"Event description",name:"description",twoColumns:!0,multiline:6}]},{title:"Location information",fields:[{placeholder:"Country",name:"country"},{placeholder:"City",name:"city"}]}],H=function(){var e=Object(r.useContext)(oe),t=Object(i.g)(),n=Object(A.a)({initialValues:{title:"",contact:"",description:"",country:"",city:""},validate:function(e){return function(e){var t=e.title,n=e.contact,a=e.country,r=e.city,o={title:"",contact:"",country:"",city:"",description:""};return e.description.length>265?o.description="Length must be 265 characters or less":delete o.description,t?t.length<5?o.title="Length must be at least 5 characters":t.length>24?o.title="Length must be 24 characters or less":delete o.title:o.title="Required field",n?n.length<5?o.contact="Length must be at least 5 characters":n.length>24?o.contact="Length must be 24 characters or less":delete o.contact:o.contact="Required field",a?a.length>24?o.country="Length must be 24 characters or less":delete o.country:o.country="Required field",r?r.length>24?o.city="Length must be 24 characters or less":delete o.city:o.city="Required field",o}(e)},onSubmit:function(n,a){var r=n.title,o=n.contact,c=n.description,i=n.country,l=n.city,s=a.setSubmitting;fetch(G.a+"/api/events/create",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:r,contact:o,country:i,city:l,description:c,creatorID:e.id,creatorName:e.username})}).then((function(e){return e.json()})).then((function(e){s(!1),t.push("/events/".concat(e))}))}});return o.a.createElement(q.a,{formik:n,headTitle:"Create your own event!",submitButtonText:"Create",sections:W})},K=n(73),$=n(74),Q=(n(115),function(e){var t=e.eventID,n=e.userID,c=Object(r.useState)({title:"",contact:"",description:"",country:"",city:"",creatorID:"",creatorName:"",id:""}),i=Object(a.a)(c,2),l=i[0],s=i[1],u=Object(r.useState)(!1),m=Object(a.a)(u,2),d=m[0],p=m[1];Object(r.useEffect)((function(){fetch(G.a+"/api/events/info/".concat(t),{method:"get",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){e.enrolledusers.includes(n)&&p(!0),s(e)}))}),[t,n]);var h=l.title,f=l.country,b=l.city,g=l.contact,E=l.description,v=l.creatorName;return h?o.a.createElement("div",{className:"eventPage-container"},o.a.createElement("div",{className:"eventPage-box"},o.a.createElement("div",{className:"box_head"},o.a.createElement("p",null,g),o.a.createElement("div",{className:"head_title-creator"},o.a.createElement("h2",null,h),o.a.createElement("p",null,v)),o.a.createElement("p",null,f,", ",b)),o.a.createElement("div",{className:"box_description"},E),n?o.a.createElement("button",{className:"submit-button box_enroll-button",disabled:d,onClick:function(){fetch("http://localhost:8000/api/events/enroll",{method:"put",headers:{"Content-Type":"application/json"},body:JSON.stringify({eventID:l.id,userID:n})}).then((function(e){return e.json()})).then((function(e){p(!0)}))}},o.a.createElement("span",null,d?"Already enrolled":"Enroll")):null,o.a.createElement(K.a,{target:{name:"events",id:t},loadingMarginTop:"50px"}))):o.a.createElement($.default,{errorMessage:"Can't find this event!"})}),X=[{fields:[{placeholder:"Description",name:"description",twoColumns:!0,multiline:6}]}],Y=function(e){var t=e.userID,n=Object(A.a)({initialValues:{description:""},validate:function(e){return function(e){var t={description:""};return e.description.length>265?t.description="Description length must be 265 or less characters":delete t.description,t}(e)},onSubmit:function(e,n){var a=e.description,r=n.setSubmitting;fetch(G.a+"/api/users/settings",{method:"put",headers:{"Content-Type":"application/json"},body:JSON.stringify({userID:t,description:a})}).then((function(e){return e.json()})).then((function(e){r(!1)}))}});return Object(r.useEffect)((function(){fetch(G.a+"/api/users/".concat(t),{method:"get",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){var t=e.description;n.setValues({description:t})}))}),[t]),o.a.createElement(q.a,{headTitle:"Profile settings",sections:X,submitButtonText:"Apply",formik:n})};n.d(t,"a",(function(){return oe}));var Z=Object(r.lazy)((function(){return Promise.resolve().then(n.bind(null,74))})),ee=Object(r.lazy)((function(){return n.e(3).then(n.bind(null,171))})),te=Object(r.lazy)((function(){return n.e(5).then(n.bind(null,169))})),ne=Object(r.lazy)((function(){return n.e(6).then(n.bind(null,165))})),ae=Object(r.lazy)((function(){return n.e(4).then(n.bind(null,170))})),re={id:sessionStorage.getItem("id")||"",username:sessionStorage.getItem("username")||""},oe=Object(r.createContext)(re);t.b=function(){var e=Object(r.useState)(re),t=Object(a.a)(e,2),n=t[0],l=t[1];return o.a.createElement(c.a,{basename:"/find-party"},o.a.createElement(P,{userID:n.id,setUser:l}),o.a.createElement(r.Suspense,{fallback:o.a.createElement(U.a,null)},o.a.createElement(oe.Provider,{value:n},o.a.createElement(i.d,null,o.a.createElement(i.b,{exact:!0,path:"/",component:s}),o.a.createElement(i.b,{exact:!0,path:"/register",render:function(e){return o.a.createElement(ne,Object.assign({},e,{setUser:l,user:n}))}}),o.a.createElement(i.b,{exact:!0,path:"/login",render:function(e){return o.a.createElement(ae,Object.assign({},e,{setUser:l,user:n}))}}),o.a.createElement(V,{exact:!0,path:"/feed",component:ee,userID:n.id}),o.a.createElement(V,{exact:!0,path:"/events/create",component:H,userID:n.id}),o.a.createElement(V,{exact:!0,path:"/settings",component:Y,userID:n.id}),o.a.createElement(i.b,{exact:!0,path:"/events/:id",render:function(e){var t=e.match;return o.a.createElement(Q,{eventID:t.params.id,userID:n.id})}}),o.a.createElement(i.b,{exact:!0,path:"/users/:id",render:function(e){var t=e.match;return o.a.createElement(te,{userID:t.params.id,user:n})}}),o.a.createElement(i.b,{exact:!0,path:"*",render:function(){return o.a.createElement(Z,{errorMessage:"Ooops... 404 NOT FOUND"})}})))))}},73:function(e,t,n){"use strict";var a=n(24),r=n(14),o=n(0),c=n.n(o),i=n(13),l=n(54),s=n(57),u=n(48),m=(n(113),n(23));t.a=c.a.memo((function(e){var t=e.target,n=e.loadingMarginTop,d=Object(o.useContext)(s.a),p=Object(o.useState)([]),h=Object(r.a)(p,2),f=h[0],b=h[1],g=Object(o.useState)(!0),E=Object(r.a)(g,2),v=E[0],y=E[1],j=Object(o.useState)(""),O=Object(r.a)(j,2),C=O[0],N=O[1];Object(o.useEffect)((function(){fetch(m.a+"/api/".concat(t.name,"/comments/").concat(t.id),{method:"get",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){y(!1),b(e)}))}),[t]);return v?c.a.createElement(u.a,{backgroundColor:"transparent",containerHeight:"100%",spinnerSize:"50px",marginTop:n}):c.a.createElement("div",{className:"comments"},c.a.createElement("h4",null,"Comments"),c.a.createElement("div",{className:"comments_block"},f.length<1?c.a.createElement("h1",{className:"no-comments"},"No comments found"):c.a.createElement(o.Fragment,null,f.map((function(e,t){return c.a.createElement("div",{className:"comment",key:t},c.a.createElement("div",{className:"comment-content"},c.a.createElement(i.b,{to:"/users/".concat(e.senderID)},c.a.createElement("h5",null,e.senderName)),c.a.createElement("p",null,e.content)))})))),d.id?c.a.createElement(o.Fragment,null,c.a.createElement(l.a,{placeholder:"Write your comment...",handleChange:function(e){return N(e.target.value)}}),c.a.createElement("div",{style:{display:"flex",alignItems:"center",marginTop:"6px"}},c.a.createElement("button",{className:"comment-submit",onClick:function(){C.length<1||fetch(m.a+"/api/".concat(t.name,"/comments/"),{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:C,senderName:d.username,senderID:d.id,targetID:t.id})}).then((function(e){return e.json()})).then((function(e){var t=Object(a.a)(f);t.unshift({senderName:d.username,content:C,senderID:d.id}),b(t)}))},disabled:C.length>265},"Send"),C.length>265?c.a.createElement("div",{className:"error",style:{marginLeft:"10px"}},"Max. comment length: 265."):null)):null)}))},74:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(29);n(114);t.default=function(e){var t=e.errorMessage,n=Object(o.g)();return r.a.createElement("div",{className:"not_found_container"},r.a.createElement("span",{className:"not_found_error"},t),r.a.createElement("span",{onClick:function(){return n.goBack()},className:"not_found_go_home"},"Go back"))}},92:function(e,t,n){},98:function(e,t,n){e.exports=n(116)}},[[98,1,2]]]);
//# sourceMappingURL=main.5da7e851.chunk.js.map