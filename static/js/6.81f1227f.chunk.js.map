{"version":3,"sources":["vars.ts","components/TextInput/TextInput.tsx","components/NotFound/NotFound.tsx","components/CommentsBlock/CommentsBlock.tsx","containers/UserProfile/UserProfile.tsx"],"names":["SERVER_URL","theme","createMuiTheme","overrides","MuiTextField","root","backgroundColor","borderRadius","width","color","fontFamily","borderColor","React","memo","placeholder","handleChange","inputType","name","error","twoColumns","multiline","initialVal","style","gridColumnStart","gridColumnEnd","undefined","className","value","label","variant","type","onChange","Boolean","rows","ErrorScreen","errorMessage","history","useHistory","onClick","goBack","target","loadingMarginTop","user","useContext","UserContext","useState","profileComments","setProfileComments","fetching","setFetching","comment","setComment","useEffect","fetch","id","method","headers","then","r","json","data","containerHeight","spinnerSize","marginTop","length","map","index","key","to","senderID","senderName","content","event","display","alignItems","body","JSON","stringify","username","targetID","commentsClone","unshift","disabled","marginLeft","userID","country","city","firstName","lastName","description","enrolled","created","userProfile","setUserProfile","err","setErr","getField","arg1","arg2","coma"],"mappings":"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","file":"static/js/6.81f1227f.chunk.js","sourcesContent":["export const SERVER_URL: string = 'https://find-party-api.herokuapp.com';\r\n","import React from 'react';\r\nimport './TextInput.scss';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport { createMuiTheme, ThemeProvider } from '@material-ui/core/styles';\r\n\r\ninterface ITextInput {\r\n  placeholder: string;\r\n  handleChange?: (e: React.ChangeEvent<HTMLInputElement>) => void;\r\n  inputType?: string;\r\n  name?: string;\r\n  error?: string | null;\r\n  twoColumns?: boolean;\r\n  multiline?: number;\r\n  initialVal?: string;\r\n}\r\n\r\nconst theme = createMuiTheme({\r\n  overrides: {\r\n    MuiTextField: {\r\n      root: {\r\n        backgroundColor: '#2ba296',\r\n        borderRadius: '3px',\r\n        width: '100%',\r\n        '& *': {\r\n          color: 'rgba(255,255,255, 0.8)',\r\n          fontFamily: 'Roboto Mono'\r\n        },\r\n        '& .MuiInputLabel-shrink': {\r\n          color: 'rgb(140, 245, 154)',\r\n          fontFamily: 'Roboto Mono'\r\n        },\r\n        '& .MuiFilledInput-underline:after': {\r\n          borderColor: 'rgb(140, 245, 154)'\r\n        }\r\n      }\r\n    }\r\n  }\r\n});\r\n\r\nconst TextInput: React.FC<ITextInput> = ({\r\n  placeholder,\r\n  handleChange,\r\n  inputType = 'text',\r\n  name,\r\n  error,\r\n  twoColumns,\r\n  multiline,\r\n  initialVal\r\n}) => {\r\n  return (\r\n    <div style={twoColumns ? { gridColumnStart: '1', gridColumnEnd: '3' } : undefined}>\r\n      <div className=\"error\">{error ? error : null}</div>\r\n      <ThemeProvider theme={theme}>\r\n        <TextField\r\n          value={initialVal}\r\n          label={placeholder}\r\n          variant=\"filled\"\r\n          type={inputType}\r\n          onChange={handleChange}\r\n          name={name}\r\n          color=\"primary\"\r\n          multiline={Boolean(multiline)}\r\n          rows={multiline}\r\n        />\r\n      </ThemeProvider>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default React.memo(TextInput);\r\n","import React from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { INotFound } from '../../types/types';\r\nimport './NotFound.scss';\r\n\r\nconst ErrorScreen: React.FC<INotFound> = ({ errorMessage }) => {\r\n  const history = useHistory();\r\n\r\n  return (\r\n    <div className=\"not_found_container\">\r\n      <span className=\"not_found_error\">{errorMessage}</span>\r\n      <span onClick={() => history.goBack()} className=\"not_found_go_home\">\r\n        Go back\r\n      </span>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ErrorScreen;\r\n","import React, { useEffect, useState, useContext, Fragment } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport TextInput from '../TextInput/TextInput';\r\nimport { UserContext } from '../../App';\r\nimport { TComment } from '../../types/types';\r\nimport Loading from '../Loading/Loading';\r\nimport './CommentBlock.scss';\r\nimport { SERVER_URL } from '../../vars';\r\n\r\ninterface ICommentBlockProps {\r\n  target: {\r\n    name: 'users' | 'events';\r\n    id: string;\r\n  };\r\n  loadingMarginTop?: string;\r\n}\r\n\r\nconst CommentsBlock: React.FC<ICommentBlockProps> = ({ target, loadingMarginTop }) => {\r\n  const user = useContext(UserContext);\r\n  const [profileComments, setProfileComments] = useState<Array<TComment>>([]);\r\n  const [fetching, setFetching] = useState(true);\r\n  const [comment, setComment] = useState('');\r\n\r\n  useEffect(() => {\r\n    fetch(SERVER_URL + `/api/${target.name}/comments/${target.id}`, {\r\n      method: 'get',\r\n      headers: { 'Content-Type': 'application/json' }\r\n    })\r\n      .then((r) => r.json())\r\n      .then((data) => {\r\n        setFetching(false);\r\n        setProfileComments(data);\r\n      });\r\n  }, [target]);\r\n\r\n  const handleSendComment = () => {\r\n    if (comment.length < 1) {\r\n      return;\r\n    }\r\n\r\n    fetch(SERVER_URL + `/api/${target.name}/comments/`, {\r\n      method: 'post',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify({\r\n        content: comment,\r\n        senderName: user.username,\r\n        senderID: user.id,\r\n        targetID: target.id\r\n      })\r\n    })\r\n      .then((r) => r.json())\r\n      .then((data) => {\r\n        const commentsClone = [...profileComments];\r\n        commentsClone.unshift({ senderName: user.username, content: comment, senderID: user.id });\r\n        setProfileComments(commentsClone);\r\n      });\r\n  };\r\n\r\n  if (fetching) {\r\n    return (\r\n      <Loading backgroundColor=\"transparent\" containerHeight=\"100%\" spinnerSize=\"50px\" marginTop={loadingMarginTop} />\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"comments\">\r\n      <h4>Comments</h4>\r\n      <div className=\"comments_block\">\r\n        {profileComments.length < 1 ? (\r\n          <h1 className=\"no-comments\">No comments found</h1>\r\n        ) : (\r\n          <Fragment>\r\n            {profileComments.map((comment, index) => {\r\n              return (\r\n                <div className=\"comment\" key={index}>\r\n                  <div className=\"comment-content\">\r\n                    <Link to={`/users/${comment.senderID}`}>\r\n                      <h5>{comment.senderName}</h5>\r\n                    </Link>\r\n                    <p>{comment.content}</p>\r\n                  </div>\r\n                </div>\r\n              );\r\n            })}\r\n          </Fragment>\r\n        )}\r\n      </div>\r\n      {user.id ? (\r\n        <Fragment>\r\n          <TextInput placeholder=\"Write your comment...\" handleChange={(event) => setComment(event.target.value)} />\r\n          <div style={{ display: 'flex', alignItems: 'center', marginTop: '6px' }}>\r\n            <button className=\"comment-submit\" onClick={handleSendComment} disabled={comment.length > 265}>\r\n              Send\r\n            </button>\r\n            {comment.length > 265 ? (\r\n              <div className=\"error\" style={{ marginLeft: '10px' }}>\r\n                Max. comment length: 265.\r\n              </div>\r\n            ) : null}\r\n          </div>\r\n        </Fragment>\r\n      ) : null}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default React.memo(CommentsBlock);\r\n","import React, { useEffect, useState } from 'react';\r\nimport Loading from '../../components/Loading/Loading';\r\nimport NotFound from '../../components/NotFound/NotFound';\r\nimport { IUserProfileProps, IUserProfileBase } from '../../types/types';\r\nimport CommentsBlock from '../../components/CommentsBlock/CommentsBlock';\r\n\r\nimport './UserProfile.scss';\r\nimport { SERVER_URL } from '../../vars';\r\n\r\ninterface IUserProfileState extends IUserProfileBase {\r\n  enrolled: number;\r\n  created: number;\r\n}\r\n\r\nconst UserProfile: React.FC<IUserProfileProps> = ({ userID }) => {\r\n  const [userProfile, setUserProfile] = useState<IUserProfileState>({\r\n    username: '',\r\n    country: '',\r\n    city: '',\r\n    firstName: '',\r\n    lastName: '',\r\n    description: '',\r\n    enrolled: 0,\r\n    created: 0\r\n  });\r\n\r\n  const [err, setErr] = useState(false);\r\n\r\n  useEffect(() => {\r\n    fetch(SERVER_URL + `/api/users/${userID}`, {\r\n      method: 'get',\r\n      headers: { 'Content-Type': 'application/json' }\r\n    })\r\n      .then((r) => r.json())\r\n      .then((data) => {\r\n        if (data === 'User not found') {\r\n          setErr(true);\r\n        }\r\n        setUserProfile(data);\r\n      });\r\n  }, [userID]);\r\n\r\n  const getField = (arg1: string, arg2: string, coma: boolean): string => {\r\n    return arg1 ? (arg2 ? `${arg1}${coma ? ',' : ' '} ${arg2}` : arg1) : '';\r\n  };\r\n\r\n  if (err) {\r\n    return <NotFound errorMessage=\"User not found!\" />;\r\n  }\r\n\r\n  const { username, country, city, firstName, lastName, created, enrolled, description } = userProfile;\r\n\r\n  if (!username) {\r\n    return <Loading />;\r\n  }\r\n\r\n  return (\r\n    <div className=\"profile-page\">\r\n      <section className=\"profile-card\">\r\n        <div className=\"info\">\r\n          <div className=\"profile-avatar\"></div>\r\n          <div className=\"profile-info\">\r\n            <div className=\"profile__head\">\r\n              <h2 className=\"head__username\">{username}</h2>\r\n              <h2 className=\"head__location\">{getField(country, city, true)}</h2>\r\n            </div>\r\n            <h3>{getField(firstName, lastName, false)}</h3>\r\n            <p>{description}</p>\r\n            <div className=\"badge-section\">\r\n              <div className=\"badge\">\r\n                <span>Created: {created}</span>\r\n              </div>\r\n              <div className=\"badge\">\r\n                <span>Enrolled: {enrolled}</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <CommentsBlock target={{ id: userID, name: 'users' }} />\r\n      </section>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default React.memo(UserProfile);\r\n"],"sourceRoot":""}